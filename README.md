# CVE Management API

Цей проект містить API для роботи з CVE (Common Vulnerabilities and Exposures), який надає кілька ендпоінтів для роботи з даними про вразливості.

---

## **Структура файлів**

- **`launch.json`** - файл, що керує налаштуваннями дебагу.
- **`main.py`** - головний файл, який ініціалізує FastAPI додаток.
- **`get_cve.py`** - файл, що зберігає всі ендпоінти для роботи з CVE.
- **`init_db.py`** - файл, що зберігає всі ендпоінти для роботи з CVE.

---
## **Опис `init_db.py`**
1. **Основний ендпоінт**:
   - `/init-db`

---

#### **1. `@router.get("/init-db")`**
- **Опис**:
  - Ініціалізує дані для входу.
  - Створює індекс за допомогою функції з іншого модуля якщо заданого не снує в базі.
  - Зчитує з файла дані та переносить в базу.

## **Опис `get_cve.py`**

### Загальні принципи роботи:
1. **Файл JSON з CVE** завантажується через змінну середовища, що ініціалізується в `launch.json`.
2. **Основні ендпоінти**:
   - `/info`
   - `/get/all`
   - `/get`
   - `/get/new`
   - `/get/known`

---

### **Ендпоінти**

#### **1. `@router.get("/info")`**
- **Опис**: Повертає загальну інформацію про CVE у вигляді словника.

#### **2. `@router.get("/get/all")`**
- **Опис**:
  - Зчитує сьогоднішню дату та обчислює дату 5 днів тому.
  - Формує пошкуковий запит в базу в проміжку від сьогодні і дати що була раніше.
  - Повертаються лише перші 40 значень з бази.

#### **3. `@router.get("/get")`**
- **Опис**:
  - Ініціалізує пошукову змінну `query`.
  - Формує запит у базу на перевірку співпадінь у полях для кожного `cve`.
  - Повертає результати у вигляді списку `cve` де були співпадіння.


#### **4. `@router.get("/get/new")`**
- **Опис**:
  - Формує запит у базу який повертає всі значення проте посортовані по даті.
  - Повертає перші 10 значень респонсу.


#### **5. `@router.get("/get/known")`**
- **Опис**:
  - Формує заит у базу на пошук співпадінь в усіх CVE словниках значення `known` за ключем `knownRansomwareCampaignUse`.
  - Повертає перші 10 `cve` де були співпадіння.
